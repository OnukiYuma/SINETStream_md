
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://onukiyuma.github.io/SINETStream_md/docs/tutorial-android/">
      
      
        <link rel="prev" href="../tutorial/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Android版 - SINETStream_md</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#android" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href=".." title="SINETStream_md" class="md-header__button md-logo" aria-label="SINETStream_md" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SINETStream_md
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Android版
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../en/tutorial-android/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SINETStream_md" class="md-nav__button md-logo" aria-label="SINETStream_md" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SINETStream_md
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ホーム
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../docm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ドキュメント
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    クイックスタートガイド
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            クイックスタートガイド
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python/Java版
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Android版
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Android版
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. はじめに
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 動作環境について
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 前提条件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 前提条件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-android" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Androidクライアント
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 バックエンドシステム
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-pcstep2" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 観測用PC（後述のチュートリアル「STEP2」限定）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. チュートリアルの実行
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/nii-gakunin-cloud/sinetstream-demo" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SINETStreamデモパッケージ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. はじめに
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 動作環境について
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 前提条件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 前提条件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-android" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Androidクライアント
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 バックエンドシステム
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-pcstep2" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 観測用PC（後述のチュートリアル「STEP2」限定）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. チュートリアルの実行
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!--
Copyright (C) 2020-2021 National Institute of Informatics

Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<p><a href="index.en.md">English</a></p>
<h1 id="android">Android版クイックスタートガイド</h1>
<p><em>目次</em></p>
<pre>
1. はじめに
2. 動作環境について
3. 前提条件
3.1 Androidクライアント
3.2 バックエンドシステム
3.3 観測用PC（後述のチュートリアル「STEP2」限定）
4. チュートリアルの実行
</pre>

<h2 id="1">1. はじめに</h2>
<p><code>クイックスタートガイド (Python/Java版)</code>で想定するコンポーネント構成図を一般化すると、以下のようになります。</p>
<p><img alt="構成図" src="images/common/network_model.png" /></p>
<p>すなわち、クライアント側の<code>Writer</code>および<code>Reader</code>の機能は、AndroidまたはLinuxのいずれかのものを組み合わせて使えることに注目ください。
本チュートリアルでは、<code>Writer</code>と<code>Reader</code>の両方、またはそのいずれかをAndroidアプリケーションが担当する場合に関して紹介します。</p>
<h2 id="2">2. 動作環境について</h2>
<p>Python/Java版のチュートリアルと同様に、<code>Broker</code>機能はアプリケーション仮想実行環境である<code>Docker</code>コンテナ上に構築します。
適当なホスト機材上に<code>Docker Engine</code>を導入し、チュートリアル用に用意
された<code>Docker</code>コンテナイメージを取得して実行するという作業の流れです。
一方、<code>Writer</code>や<code>Reader</code>機能は、お手元のAndroid機材にサンプルアプリ
ケーションを導入します。動作パラメータを適切に設定することにより前述
の<code>Broker</code>機能と協調動作することになります。</p>
<p><img alt="Docker設定" src="images/common/docker_configuration.png" /></p>
<p>すなわち、このチュートリアルの実行環境を整えるためには、バックエンド
システム用の環境構築、Android端末へのクライアントアプリケーション導入、
および両者の接続パラメータ設定といういくつかの作業工程が必要です。
詳細な作業手順に関しては後述します。</p>
<h2 id="3">3. 前提条件</h2>
<p>このチュートリアルを実行するためには、以下の条件を満たす必要があります。</p>
<h3 id="31-android">3.1 Androidクライアント</h3>
<ul>
<li>
<p>Android端末がバックエンドシステムとIPネットワークで接続できること</p>
<ul>
<li>
<p>例1）Android端末にSINET SIMを挿入してMobile SINET経由で<code>Broker</code>
に接続する</p>
<blockquote>
<p>携帯電話網を経由して<code>Broker</code>と接続する場合の接続形態です。</p>
</blockquote>
</li>
<li>
<p>例2）Android端末と<code>Broker</code>稼働ホストとの間をLANで接続する</p>
<blockquote>
<p>机上のPC機材にバックエンドシステムを構築した場合の接続形態です。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="32">3.2 バックエンドシステム</h3>
<ul>
<li>
<p><code>Broker</code>稼働ホストがインターネットに接続できること</p>
<ul>
<li>コンテナリポジトリから所用のコンテナイメージ等を導入します。</li>
</ul>
</li>
<li>
<p><code>Broker</code>稼働ホストに<code>Docker Engine</code>が導入されていること</p>
<ul>
<li>コンテナイメージの動作基盤となります。</li>
<li>実行例として商用クラウドサービスの<code>Amazon AWS</code>を使う場合を示します。</li>
<li>お手軽な実行環境として、机上のPC機材に<code>Docker Engine</code>を導入する
  方式も併記します。</li>
</ul>
</li>
</ul>
<h3 id="33-pcstep2">3.3 観測用PC（後述のチュートリアル「STEP2」限定）</h3>
<ul>
<li>観測用PCからバックエンドシステムにHTTP接続できること<ul>
<li>経路設定やファイアウォール設定に留意して接続性を確保してください。</li>
</ul>
</li>
<li>観測用PCからインターネットに接続できること<ul>
<li>ウェブ画面に表示する部品要素のいくつかは公開サーバから取得します。</li>
</ul>
</li>
</ul>
<h2 id="4">4. チュートリアルの実行</h2>
<p>Android版の
<a href="../userguide/android.md">SINETStreamライブラリ</a>
の使用例として、2種類のサンプルアプリ
ケーションを用意しました。</p>
<ul>
<li><a href="TUTORIAL-android-step1-overview.md">STEP1: テキスト送受信アプリの実行(sinetstream-android-echo)</a><ul>
<li>GUI操作で入力した任意文字列を<code>Broker</code>折り返しで送受信する</li>
</ul>
</li>
<li><a href="TUTORIAL-android-step2-overview.md">STEP2: センサ情報収集アプリの実行(sinetstream-android-sensor-publisher)</a><ul>
<li>Android端末上のセンサー読取値を<code>Broker</code>に送信する</li>
<li><code>Broker</code>背後のバックエンドシステムがセンサー読取値をデータベースに
蓄積する</li>
<li>観測用PCのウェブブラウザからバックエンドに接続するとセンサー読取値
がグラフ表示される</li>
</ul>
</li>
</ul>
<p>それぞれの手順は上記のリンク先のページに記されています。
2つの手順は独立していますので、どちらか一方のみを試すこともできますし、
順々に両方を試すこともできます。</p>
<blockquote>
<p><strong>注記</strong>：</p>
<p>上記2種類のサンプルを続けて試す場合は、STEP2を先に実行した方が
作業が円滑に進むと思います。</p>
<p>STEP1では<code>Broker</code>は何を使っても良いのですが、STEP2では<code>Broker</code>
背後のバックエンド側と接続して逐次処理する必要があります。このため
STEP2のコンテナイメージは専用のものを使います。
すなわち、STEP2を先に実行して、そのコンテナイメージを動作させた
ままにしておけば、STEP1でその<code>Broker</code>を流用できます。</p>
<p>STEP1のバックエンドシステム用にPython/Java版チュートリアルのコンテナ
イメージを起動してその<code>Broker</code>を相手にすることも、もちろん可能です。
その場合はSTEP2を実行する前にコンテナイメージの入れ替えを忘れず
実施してください。</p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>